<p-toast></p-toast>
<div class="reset-page">
  <p-card>
    <h3 class="text-center my-3">Reset Password</h3>
    <form [formGroup]="resetForm" *ngIf="!resetSuccess">
      <div class="formgrid grid p-fluid">

      <div class="col-12 field">
          <div class="p-inputgroup">
              <span class="p-inputgroup-addon"><i class="pi pi-envelope"></i></span>
              <input type="email" pInputText placeholder="Email" class="inputfield p-2 w-full" formControlName="email" >
          </div>
      </div>



      <div class="col-12">
        <button pButton type="button" (click)="resetPassword()" label="Reset Password" ></button>
      </div>
      <small class="text-center my-2 ml-2" >Login instead ? <a routerLink="/auth/login" class="login-link">login</a></small>
      </div>
    </form>

    <form [formGroup]="verificationCodeForm" *ngIf="resetSuccess">
      <div class="formgrid grid p-fluid">
        <p [ngStyle]="{color:'var(--green-500)'}" class="text-center my-2">Enter the verification code sent to your email</p>

      <div class="col-12 field">
          <div class="p-inputgroup">
              <span class="p-inputgroup-addon"><i class="pi pi-key"></i></span>
              <input type="text"
               pInputText
               class="inputfield p-2 w-full" formControlName="code"
               mask="A-A-A-A-A-A"
                [dropSpecialCharacters]="true"
                placeholder="X-X-X-X-X-X"
                >
          </div>
      </div>

      <div class="col-12 field">
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-lock"></i></span>
            <input type="Password" formControlName="newPassword" pInputText placeholder="New Password" class="inputfield p-2 w-full" >
        </div>
    </div>



      <div class="col-12">
        <button pButton type="button" (click)="verifyCode()" label="Reset Password" ></button>
      </div>
      <small class="text-center my-2 ml-2" >Login instead ? <a routerLink="/auth/login" class="login-link">login</a></small>
      </div>
    </form>

  </p-card>
</div>
